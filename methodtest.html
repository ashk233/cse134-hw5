<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Method Test</title>
    <script type="module">
      import {
        output,
        getArticle,
        postArticle,
        putArticle,
        deleteArticle,
      } from "./methodtest.js";

      document
        .getElementById("postBtn")
        .addEventListener("click", async (e) => {
          e.preventDefault();
          output.innerHTML = "Fetching response...";
          await postArticle();
        });
      document.getElementById("getBtn").addEventListener("click", async (e) => {
        e.preventDefault();
        output.innerHTML = "Fetching response...";
        await getArticle();
      });
      document.getElementById("putBtn").addEventListener("click", async (e) => {
        e.preventDefault();
        output.innerHTML = "Fetching response...";
        await putArticle();
      });
      document
        .getElementById("deleteBtn")
        .addEventListener("click", async (e) => {
          e.preventDefault();
          output.innerHTML = "Fetching response...";
          await deleteArticle();
        });
    </script>
  </head>
  <body>
    <form id="form">
      <fieldset>
        <table>
          <tr>
            <td class="label">
              <label for="id">ID: </label>
            </td>
            <td>
              <input type="number" id="id" name="id" />
            </td>
          </tr>
          <tr>
            <td class="label">
              <label for="article_name">Article Name:</label>
            </td>
            <td>
              <input type="text" id="article_name" name="article_name" />
            </td>
          </tr>
          <tr>
            <td class="label">
              <label for="article_body">Article Body: </label>
            </td>
            <td>
              <textarea id="article_body" name="article_body"></textarea>
            </td>
          </tr>
          <input hidden id="date" name="date" />
        </table>
        <button id="postBtn" type="submit">Post</button>
        <button id="getBtn" type="submit">Get</button>
        <button id="putBtn" type="submit">Put</button>
        <button id="deleteBtn" type="submit">Delete</button>
      </fieldset>
    </form>
    <hr />
    <output id="response" style="white-space: pre">No response yet.</output>
  </body>
</html>
